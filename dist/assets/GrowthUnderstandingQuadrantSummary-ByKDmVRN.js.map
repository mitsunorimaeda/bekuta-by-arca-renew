{"version":3,"file":"GrowthUnderstandingQuadrantSummary-ByKDmVRN.js","sources":["../../src/components/GrowthUnderstandingQuadrantSummary.tsx"],"sourcesContent":["// src/components/GrowthUnderstandingQuadrantSummary.tsx\nimport React, { useMemo } from 'react';\n\ntype DataPoint = {\n  arrow_score?: number | null;     // ← growth_vector の代わり\n  signal_score?: number | null;    // ← intent_signal_score の代わり\n  load?: number | null;            // sRPE\n};\n\ntype Props = {\n  data?: DataPoint[] | null;\n  title?: string;\n  // 50ラインで4象限にする前提（必要なら変えられる）\n  threshold?: number;\n};\n\nexport function GrowthUnderstandingQuadrantSummary({\n  data,\n  title = '今週のサマリー（4象限）',\n  threshold = 50,\n}: Props) {\n  const safe = Array.isArray(data) ? data : [];\n\n  const summary = useMemo(() => {\n    let q1 = 0; // 高成長×高理解\n    let q2 = 0; // 低成長×高理解\n    let q3 = 0; // 低成長×低理解\n    let q4 = 0; // 高成長×低理解\n\n    let sumG = 0;\n    let sumU = 0;\n    let cnt = 0;\n\n    let totalLoad = 0;\n\n    for (const p of safe) {\n      const g = typeof p.arrow_score === 'number' ? p.arrow_score : null;\n      const u = typeof p.signal_score === 'number' ? p.signal_score : null;\n      const l = typeof p.load === 'number' ? p.load : 0;\n\n      totalLoad += l;\n\n      if (g == null || u == null) continue;\n      cnt += 1;\n      sumG += g;\n      sumU += u;\n\n      const highG = g >= threshold;\n      const highU = u >= threshold;\n\n      if (highG && highU) q1 += 1;\n      else if (!highG && highU) q2 += 1;\n      else if (!highG && !highU) q3 += 1;\n      else q4 += 1;\n    }\n\n    const avgG = cnt > 0 ? Math.round((sumG / cnt) * 10) / 10 : null;\n    const avgU = cnt > 0 ? Math.round((sumU / cnt) * 10) / 10 : null;\n\n    return {\n      q1,\n      q2,\n      q3,\n      q4,\n      avgG,\n      avgU,\n      cnt,\n      totalLoad: Math.round(totalLoad),\n    };\n  }, [safe, threshold]);\n\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-4 sm:p-5\">\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"min-w-0\">\n          <div className=\"text-sm sm:text-base font-semibold text-gray-900\">{title}</div>\n          <div className=\"mt-1 text-xs text-gray-600\">\n            ※ {threshold}ラインで4象限 / 点の大きさ=load（sRPE）\n          </div>\n        </div>\n\n        <div className=\"text-right text-xs text-gray-600\">\n          <div>\n            有効点：<b className=\"text-gray-900\">{summary.cnt}</b>\n          </div>\n          <div>\n            週load：<b className=\"text-gray-900\">{summary.totalLoad}</b>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-3 grid grid-cols-2 gap-2 text-sm\">\n        <div className=\"rounded-lg border border-gray-200 p-3\">\n          <div className=\"text-xs text-gray-600\">高成長 × 高理解</div>\n          <div className=\"text-lg font-bold text-gray-900\">{summary.q1}</div>\n        </div>\n        <div className=\"rounded-lg border border-gray-200 p-3\">\n          <div className=\"text-xs text-gray-600\">低成長 × 高理解</div>\n          <div className=\"text-lg font-bold text-gray-900\">{summary.q2}</div>\n        </div>\n        <div className=\"rounded-lg border border-gray-200 p-3\">\n          <div className=\"text-xs text-gray-600\">低成長 × 低理解</div>\n          <div className=\"text-lg font-bold text-gray-900\">{summary.q3}</div>\n        </div>\n        <div className=\"rounded-lg border border-gray-200 p-3\">\n          <div className=\"text-xs text-gray-600\">高成長 × 低理解</div>\n          <div className=\"text-lg font-bold text-gray-900\">{summary.q4}</div>\n        </div>\n      </div>\n\n      <div className=\"mt-3 text-xs sm:text-sm text-gray-700 flex flex-wrap gap-x-4 gap-y-1\">\n        <span>\n          平均 成長度：<b>{summary.avgG ?? '-'}</b>\n        </span>\n        <span>\n          平均 理解度：<b>{summary.avgU ?? '-'}</b>\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default GrowthUnderstandingQuadrantSummary;"],"names":["GrowthUnderstandingQuadrantSummary","data","title","threshold","safe","Array","isArray","summary","useMemo","q1","q2","q3","q4","sumG","sumU","cnt","totalLoad","p","g","arrow_score","u","signal_score","load","highG","highU","avgG","Math","round","avgU","jsxs","className","children","jsx"],"mappings":"6HAgBO,SAASA,GAAmCC,KACjDA,EAAAC,MACAA,EAAQ,eAAAC,UACRA,EAAY,KAEZ,MAAMC,EAAOC,MAAMC,QAAQL,GAAQA,EAAO,GAEpCM,EAAUC,EAAAA,QAAQ,KACtB,IAAIC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAELC,EAAO,EACPC,EAAO,EACPC,EAAM,EAENC,EAAY,EAEhB,IAAA,MAAWC,KAAKb,EAAM,CACpB,MAAMc,EAA6B,iBAAlBD,EAAEE,YAA2BF,EAAEE,YAAc,KACxDC,EAA8B,iBAAnBH,EAAEI,aAA4BJ,EAAEI,aAAe,KAKhE,GAFAL,GAF4B,iBAAXC,EAAEK,KAAoBL,EAAEK,KAAO,EAIvC,MAALJ,GAAkB,MAALE,EAAW,SAC5BL,GAAO,EACPF,GAAQK,EACRJ,GAAQM,EAER,MAAMG,EAAQL,GAAKf,EACbqB,EAAQJ,GAAKjB,EAEfoB,GAASC,EAAOf,GAAM,GAChBc,GAASC,EAAOd,GAAM,EACtBa,GAAUC,EACfZ,GAAM,EADgBD,GAAM,CAEnC,CAKA,MAAO,CACLF,KACAC,KACAC,KACAC,KACAa,KARWV,EAAM,EAAIW,KAAKC,MAAOd,EAAOE,EAAO,IAAM,GAAK,KAS1Da,KARWb,EAAM,EAAIW,KAAKC,MAAOb,EAAOC,EAAO,IAAM,GAAK,KAS1DA,MACAC,UAAWU,KAAKC,MAAMX,KAEvB,CAACZ,EAAMD,IAEV,SACE0B,KAAC,MAAA,CAAIC,UAAU,wDACbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,yCACbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,UACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,mDAAoDC,SAAA7B,MACnE2B,KAAC,MAAA,CAAIC,UAAU,6BAA6BC,SAAA,CAAA,KACvC5B,EAAU,qCAIjB0B,KAAC,MAAA,CAAIC,UAAU,mCACbC,SAAA,CAAAF,OAAC,MAAA,CAAIE,SAAA,CAAA,OACCC,EAAAA,IAAC,IAAA,CAAEF,UAAU,gBAAiBC,WAAQhB,gBAE3C,MAAA,CAAIgB,SAAA,CAAA,SACGC,EAAAA,IAAC,IAAA,CAAEF,UAAU,gBAAiBC,WAAQf,uBAKlDa,KAAC,MAAA,CAAIC,UAAU,sCACbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,wCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,wBAAwBC,SAAA,cACvCC,EAAAA,IAAC,MAAA,CAAIF,UAAU,kCAAmCC,WAAQtB,UAE5DoB,KAAC,MAAA,CAAIC,UAAU,wCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,wBAAwBC,SAAA,cACvCC,EAAAA,IAAC,MAAA,CAAIF,UAAU,kCAAmCC,WAAQrB,UAE5DmB,KAAC,MAAA,CAAIC,UAAU,wCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,wBAAwBC,SAAA,cACvCC,EAAAA,IAAC,MAAA,CAAIF,UAAU,kCAAmCC,WAAQpB,UAE5DkB,KAAC,MAAA,CAAIC,UAAU,wCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,wBAAwBC,SAAA,cACvCC,EAAAA,IAAC,MAAA,CAAIF,UAAU,kCAAmCC,WAAQnB,aAI9DiB,KAAC,MAAA,CAAIC,UAAU,uEACbC,SAAA,CAAAF,OAAC,OAAA,CAAKE,SAAA,CAAA,UACGC,EAAAA,IAAC,IAAA,CAAGD,SAAAxB,EAAQkB,MAAQ,gBAE5B,OAAA,CAAKM,SAAA,CAAA,UACGC,EAAAA,IAAC,IAAA,CAAGD,SAAAxB,EAAQqB,MAAQ,cAKrC"}