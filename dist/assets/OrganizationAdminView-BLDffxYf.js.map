{"version":3,"file":"OrganizationAdminView-BLDffxYf.js","sources":["../../src/components/OrganizationAdminView.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { User, Team, supabase } from '../lib/supabase';\nimport { Alert } from '../lib/alerts';\nimport { UserInvitation } from './UserInvitation';\nimport { BulkUserInvitation } from './BulkUserInvitation';\nimport { UserManagement } from './UserManagement';\nimport { AlertSummary } from './AlertSummary';\nimport { TutorialController } from './TutorialController';\nimport { useTutorialContext } from '../contexts/TutorialContext';\nimport { getTutorialSteps } from '../lib/tutorialContent';\nimport { Building2, Users, UserPlus, AlertTriangle, BarChart3, X, HelpCircle, CreditCard, Sliders, UserCog, UsersRound, Layout, ShieldCheck, Menu, Shield, FileText } from 'lucide-react';\nimport { OrganizationOverview } from './OrganizationOverview';\nimport { SubscriptionManagement } from './SubscriptionManagement';\nimport { OrganizationSettings } from './OrganizationSettings';\nimport { TeamAccessRequestManagement } from './TeamAccessRequestManagement';\nimport { AthleteTransferManagement } from './AthleteTransferManagement';\nimport { OrganizationMembersManagement } from './OrganizationMembersManagement';\n\ninterface OrganizationAdminViewProps {\n  user: User;\n  alerts: Alert[];\n  organizationId: string;\n  organizationName: string;\n  onNavigateToPrivacy?: () => void;\n  onNavigateToTerms?: () => void;\n  onNavigateToCommercial?: () => void;\n  onNavigateToHelp?: () => void;\n}\n\nexport function OrganizationAdminView({ user, alerts, organizationId, organizationName, onNavigateToPrivacy, onNavigateToTerms, onNavigateToCommercial, onNavigateToHelp }: OrganizationAdminViewProps) {\n  const [teams, setTeams] = useState<Team[]>([]);\n  const [activeTab, setActiveTab] = useState<'overview' | 'users' | 'organization'>('overview');\n  const [usersSubTab, setUsersSubTab] = useState<'invite' | 'manage'>('invite');\n  const [organizationSubTab, setOrganizationSubTab] = useState<'members' | 'settings' | 'subscription' | 'transfers' | 'team-access'>('members');\n  const [inviteSubTab, setInviteSubTab] = useState<'single' | 'bulk'>('single');\n  const [loading, setLoading] = useState(true);\n  const [showAlertPanel, setShowAlertPanel] = useState(false);\n  const [criticalAlertDismissed, setCriticalAlertDismissed] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const { isActive, shouldShowTutorial, startTutorial, completeTutorial, skipTutorial, currentStepIndex, setCurrentStepIndex } = useTutorialContext();\n\n  useEffect(() => {\n    if (shouldShowTutorial() && !loading) {\n      startTutorial();\n    }\n  }, [shouldShowTutorial, startTutorial, loading]);\n\n  const highPriorityAlerts = alerts.filter(alert => alert.priority === 'high');\n  const systemAlerts = alerts.filter(alert => alert.type === 'no_data' || alert.type === 'reminder');\n\n  useEffect(() => {\n    const dismissed = localStorage.getItem('criticalAlertDismissed');\n    const dismissedTime = dismissed ? parseInt(dismissed, 10) : 0;\n    const now = Date.now();\n    const thirtyMinutes = 30 * 60 * 1000;\n\n    if (dismissedTime && now - dismissedTime < thirtyMinutes) {\n      setCriticalAlertDismissed(true);\n    } else if (dismissedTime && now - dismissedTime >= thirtyMinutes) {\n      localStorage.removeItem('criticalAlertDismissed');\n    }\n  }, []);\n\n  const handleDismissCriticalAlert = () => {\n    setCriticalAlertDismissed(true);\n    localStorage.setItem('criticalAlertDismissed', Date.now().toString());\n  };\n\n  useEffect(() => {\n    fetchTeams();\n  }, [organizationId]);\n\n  const fetchTeams = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('teams')\n        .select('*')\n        .eq('organization_id', organizationId)\n        .order('name');\n\n      if (error) throw error;\n      setTeams(data || []);\n    } catch (error) {\n      console.error('Error fetching teams:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\n      <header className=\"bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700 transition-colors sticky top-0 z-40\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between py-3\">\n            <h1 className=\"text-lg sm:text-xl font-bold text-gray-900 dark:text-white\">組織管理ダッシュボード</h1>\n            <div className=\"flex items-center space-x-1\">\n              {highPriorityAlerts.length > 0 && (\n                <button\n                  onClick={() => setShowAlertPanel(true)}\n                  className=\"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors relative\"\n                  title=\"アラート\"\n                >\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n                </button>\n              )}\n\n              <button\n                onClick={startTutorial}\n                className=\"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n                title=\"チュートリアル\"\n              >\n                <HelpCircle className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8\">\n        <div className=\"space-y-6 sm:space-y-8\">\n          {/* Critical Alert Banner */}\n          {highPriorityAlerts.length > 0 && !criticalAlertDismissed && (\n            <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4\">\n              <div className=\"flex items-center\">\n                <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400 mr-3 flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"font-semibold text-red-900 dark:text-red-100\">高リスクアラート</h3>\n                  <p className=\"text-sm text-red-700 dark:text-red-200\">\n                    {highPriorityAlerts.length}件の注意が必要です\n                  </p>\n                </div>\n                <button\n                  onClick={handleDismissCriticalAlert}\n                  className=\"ml-3 p-1 text-red-400 hover:text-red-600 transition-colors flex-shrink-0\"\n                  title=\"30分間非表示\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* System Overview */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 transition-colors\">\n            <div className=\"flex items-center mb-6\">\n              <BarChart3 className=\"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3\" />\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">組織概要</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-1\">\n                  {alerts.length}\n                </div>\n                <div className=\"text-sm text-blue-700 dark:text-blue-300\">総アラート数</div>\n              </div>\n\n              <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-red-600 dark:text-red-400 mb-1\">\n                  {highPriorityAlerts.length}\n                </div>\n                <div className=\"text-sm text-red-700 dark:text-red-300\">高優先度</div>\n              </div>\n\n              <div className=\"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mb-1\">\n                  {systemAlerts.length}\n                </div>\n                <div className=\"text-sm text-yellow-700 dark:text-yellow-300\">システム通知</div>\n              </div>\n\n              <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-green-600 dark:text-green-400 mb-1\">\n                  {teams.length}\n                </div>\n                <div className=\"text-sm text-green-700 dark:text-green-300\">登録チーム数</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Management Tabs */}\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-8 transition-colors\">\n            <div className=\"border-b border-gray-200 dark:border-gray-700\">\n              <nav className=\"flex px-6 overflow-x-auto scrollbar-hide\">\n                <button\n                  onClick={() => setActiveTab('overview')}\n                  className={`py-4 px-6 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap transition-colors ${\n                    activeTab === 'overview'\n                      ? 'border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                >\n                  <BarChart3 className=\"w-4 h-4\" />\n                  <span>概要</span>\n                </button>\n                <button\n                  onClick={() => setActiveTab('users')}\n                  className={`py-4 px-6 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap transition-colors ${\n                    activeTab === 'users'\n                      ? 'border-green-500 text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20'\n                      : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                  data-tutorial=\"users-tab\"\n                >\n                  <Users className=\"w-4 h-4\" />\n                  <span>ユーザー管理</span>\n                </button>\n                <button\n                  onClick={() => setActiveTab('organization')}\n                  className={`py-4 px-6 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap transition-colors ${\n                    activeTab === 'organization'\n                      ? 'border-orange-500 text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20'\n                      : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                  }`}\n                  data-tutorial=\"organization-tab\"\n                >\n                  <Building2 className=\"w-4 h-4\" />\n                  <span>組織管理</span>\n                </button>\n              </nav>\n            </div>\n\n            {/* Sub-tabs Section */}\n            {(activeTab === 'users' || activeTab === 'organization') && (\n              <div className=\"border-b border-gray-100 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-800/50\">\n                <nav className=\"flex px-6 overflow-x-auto\">\n                  {activeTab === 'users' && (\n                    <>\n                      <button\n                        onClick={() => setUsersSubTab('invite')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 whitespace-nowrap ${\n                          usersSubTab === 'invite'\n                            ? 'border-green-500 text-green-700 dark:text-green-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <UserPlus className=\"w-3.5 h-3.5\" />\n                        <span>招待</span>\n                      </button>\n                      <button\n                        onClick={() => setUsersSubTab('manage')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 ml-4 whitespace-nowrap ${\n                          usersSubTab === 'manage'\n                            ? 'border-green-500 text-green-700 dark:text-green-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <UserCog className=\"w-3.5 h-3.5\" />\n                        <span>管理</span>\n                      </button>\n                    </>\n                  )}\n                  {activeTab === 'organization' && (\n                    <>\n                      <button\n                        onClick={() => setOrganizationSubTab('members')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 whitespace-nowrap ${\n                          organizationSubTab === 'members'\n                            ? 'border-orange-500 text-orange-700 dark:text-orange-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <ShieldCheck className=\"w-3.5 h-3.5\" />\n                        <span>メンバー</span>\n                      </button>\n                      <button\n                        onClick={() => setOrganizationSubTab('settings')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 ml-4 whitespace-nowrap ${\n                          organizationSubTab === 'settings'\n                            ? 'border-orange-500 text-orange-700 dark:text-orange-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <Sliders className=\"w-3.5 h-3.5\" />\n                        <span>設定</span>\n                      </button>\n                      <button\n                        onClick={() => setOrganizationSubTab('subscription')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 ml-4 whitespace-nowrap ${\n                          organizationSubTab === 'subscription'\n                            ? 'border-orange-500 text-orange-700 dark:text-orange-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <CreditCard className=\"w-3.5 h-3.5\" />\n                        <span>サブスクリプション</span>\n                      </button>\n                      <button\n                        onClick={() => setOrganizationSubTab('transfers')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 ml-4 whitespace-nowrap ${\n                          organizationSubTab === 'transfers'\n                            ? 'border-orange-500 text-orange-700 dark:text-orange-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <UserCog className=\"w-3.5 h-3.5\" />\n                        <span>選手移籍</span>\n                      </button>\n                      <button\n                        onClick={() => setOrganizationSubTab('team-access')}\n                        className={`py-3 px-4 border-b-2 font-medium text-xs flex items-center space-x-2 ml-4 whitespace-nowrap ${\n                          organizationSubTab === 'team-access'\n                            ? 'border-orange-500 text-orange-700 dark:text-orange-400'\n                            : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                        }`}\n                      >\n                        <UsersRound className=\"w-3.5 h-3.5\" />\n                        <span>チームアクセス</span>\n                      </button>\n                    </>\n                  )}\n                </nav>\n              </div>\n            )}\n\n            <div className=\"p-6\">\n              {activeTab === 'overview' ? (\n                <OrganizationOverview\n                  organizationId={organizationId}\n                  organizationName={organizationName}\n                />\n              ) : activeTab === 'users' ? (\n                <div>\n                  {usersSubTab === 'invite' ? (\n                    <div>\n                      <div className=\"border-b border-gray-200 dark:border-gray-700 mb-6\">\n                        <nav className=\"flex space-x-8\">\n                          <button\n                            onClick={() => setInviteSubTab('single')}\n                            className={`py-3 px-1 border-b-2 font-medium text-sm ${\n                              inviteSubTab === 'single'\n                                ? 'border-green-500 text-green-600 dark:text-green-400'\n                                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                            }`}\n                          >\n                            個別招待\n                          </button>\n                          <button\n                            onClick={() => setInviteSubTab('bulk')}\n                            className={`py-3 px-1 border-b-2 font-medium text-sm ${\n                              inviteSubTab === 'bulk'\n                                ? 'border-green-500 text-green-600 dark:text-green-400'\n                                : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n                            }`}\n                          >\n                            一括招待 (CSV)\n                          </button>\n                        </nav>\n                      </div>\n\n                      {inviteSubTab === 'single' ? (\n                        <div data-tutorial=\"single-invite\">\n                          <UserInvitation\n                            teams={teams}\n                            onUserInvited={() => {}}\n                            restrictToOrganizationId={organizationId}\n                            allowAdminInvite={false}\n                          />\n                        </div>\n                      ) : (\n                        <div data-tutorial=\"bulk-invite\">\n                          <BulkUserInvitation\n                            teams={teams}\n                            onUsersInvited={() => {}}\n                            restrictToOrganizationId={organizationId}\n                            allowAdminInvite={false}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  ) : usersSubTab === 'manage' ? (\n                    <div data-tutorial=\"user-list\">\n                      <UserManagement teams={teams} restrictToOrganizationId={organizationId} />\n                    </div>\n                  ) : null}\n                </div>\n              ) : activeTab === 'organization' ? (\n                <div>\n                  {organizationSubTab === 'members' ? (\n                    <OrganizationMembersManagement\n                      organizationId={organizationId}\n                      organizationName={organizationName}\n                    />\n                  ) : organizationSubTab === 'settings' ? (\n                    <OrganizationSettings organizationId={organizationId} />\n                  ) : organizationSubTab === 'subscription' ? (\n                    <SubscriptionManagement\n                      organizationId={organizationId}\n                      organizationName={organizationName}\n                    />\n                  ) : organizationSubTab === 'transfers' ? (\n                    <AthleteTransferManagement\n                      userId={user.id}\n                      organizationId={organizationId}\n                      isAdmin={isGlobalAdmin(user.role)}\n                    />\n                  ) : organizationSubTab === 'team-access' ? (\n                    <TeamAccessRequestManagement\n                      userId={user.id}\n                      organizationId={organizationId}\n                      isAdmin={true}\n                    />\n                  ) : null}\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <TutorialController\n        steps={getTutorialSteps('global_admin')}\n        isActive={isActive}\n        onComplete={completeTutorial}\n        onSkip={skipTutorial}\n        currentStepIndex={currentStepIndex}\n        onStepChange={setCurrentStepIndex}\n      />\n    </div>\n  );\n}\n"],"names":["OrganizationAdminView","user","alerts","organizationId","organizationName","onNavigateToPrivacy","onNavigateToTerms","onNavigateToCommercial","onNavigateToHelp","teams","setTeams","useState","activeTab","setActiveTab","usersSubTab","setUsersSubTab","organizationSubTab","setOrganizationSubTab","inviteSubTab","setInviteSubTab","loading","setLoading","showAlertPanel","setShowAlertPanel","criticalAlertDismissed","setCriticalAlertDismissed","showMobileMenu","setShowMobileMenu","isActive","shouldShowTutorial","startTutorial","completeTutorial","skipTutorial","currentStepIndex","setCurrentStepIndex","useTutorialContext","useEffect","highPriorityAlerts","filter","alert","priority","systemAlerts","type","dismissed","localStorage","getItem","dismissedTime","parseInt","now","Date","thirtyMinutes","removeItem","fetchTeams","async","data","error","supabase","from","select","eq","order","console","jsx","className","children","jsxs","length","onClick","title","AlertTriangle","HelpCircle","setItem","toString","X","BarChart3","Users","Building2","Fragment","UserPlus","UserCog","ShieldCheck","Sliders","CreditCard","UsersRound","OrganizationOverview","UserInvitation","onUserInvited","restrictToOrganizationId","allowAdminInvite","BulkUserInvitation","onUsersInvited","UserManagement","OrganizationMembersManagement","OrganizationSettings","SubscriptionManagement","AthleteTransferManagement","userId","id","isAdmin","isGlobalAdmin","role","TeamAccessRequestManagement","TutorialController","steps","getTutorialSteps","onComplete","onSkip","onStepChange"],"mappings":"4SA6BO,SAASA,GAAsBC,KAAEA,EAAAC,OAAMA,EAAAC,eAAQA,EAAAC,iBAAgBA,sBAAkBC,EAAAC,kBAAqBA,EAAAC,uBAAmBA,EAAAC,iBAAwBA,IACtJ,MAAOC,EAAOC,GAAYC,EAAAA,SAAiB,KACpCC,EAAWC,GAAgBF,EAAAA,SAAgD,aAC3EG,EAAaC,GAAkBJ,EAAAA,SAA8B,WAC7DK,EAAoBC,GAAyBN,EAAAA,SAAgF,YAC7HO,EAAcC,GAAmBR,EAAAA,SAA4B,WAC7DS,EAASC,GAAcV,EAAAA,UAAS,IAChCW,EAAgBC,GAAqBZ,EAAAA,UAAS,IAC9Ca,EAAwBC,GAA6Bd,EAAAA,UAAS,IAC9De,EAAgBC,GAAqBhB,EAAAA,UAAS,IAC/CiB,SAAEA,qBAAUC,GAAAC,cAAoBA,GAAAC,iBAAeA,gBAAkBC,GAAAC,iBAAcA,GAAAC,oBAAkBA,IAAwBC,IAE/HC,EAAAA,UAAU,KACJP,OAAyBT,GAC3BU,MAED,CAACD,GAAoBC,GAAeV,IAEvC,MAAMiB,GAAqBnC,EAAOoC,OAAOC,GAA4B,SAAnBA,EAAMC,UAClDC,GAAevC,EAAOoC,OAAOC,GAAwB,YAAfA,EAAMG,MAAqC,aAAfH,EAAMG,MAE9EN,EAAAA,UAAU,KACR,MAAMO,EAAYC,aAAaC,QAAQ,0BACjCC,EAAgBH,EAAYI,SAASJ,EAAW,IAAM,EACtDK,EAAMC,KAAKD,MACXE,EAAgB,KAElBJ,GAAiBE,EAAMF,EAAgBI,EACzCzB,GAA0B,GACjBqB,GAAiBE,EAAMF,GAAiBI,GACjDN,aAAaO,WAAW,2BAEzB,IAOHf,EAAAA,UAAU,KACRgB,MACC,CAACjD,IAEJ,MAAMiD,GAAaC,UACjB,IACE,MAAMC,KAAEA,EAAAC,MAAMA,SAAgBC,EAC3BC,KAAK,SACLC,OAAO,KACPC,GAAG,kBAAmBxD,GACtByD,MAAM,QAET,GAAIL,EAAO,MAAMA,EACjB7C,EAAS4C,GAAQ,GACnB,OAASC,GACPM,QAAQN,MAAM,wBAAyBA,EACzC,CAAA,QACElC,GAAW,EACb,GAGF,OAAID,EAEA0C,MAAC,OAAIC,UAAU,4EACbC,eAAC,MAAA,CAAID,UAAU,uEAMnBE,KAAC,MAAA,CAAIF,UAAU,6DACbC,SAAA,CAAAF,EAAAA,IAAC,SAAA,CAAOC,UAAU,wGAChBC,WAAAF,IAAC,MAAA,CAAIC,UAAU,yCACbC,SAAAC,OAAC,MAAA,CAAIF,UAAU,yCACbC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAGC,UAAU,6DAA6DC,SAAA,kBAC3EC,KAAC,MAAA,CAAIF,UAAU,8BACZC,SAAA,CAAA3B,GAAmB6B,OAAS,GAC3BD,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAM5C,GAAkB,GACjCwC,UAAU,6GACVK,MAAM,OAENJ,SAAA,GAAAF,IAACO,EAAA,CAAcN,UAAU,cACzBD,IAAC,OAAA,CAAKC,UAAU,8DAIpBD,EAAAA,IAAC,SAAA,CACCK,QAASrC,GACTiC,UAAU,sGACVK,MAAM,UAENJ,SAAAF,EAAAA,IAACQ,EAAA,CAAWP,UAAU,8BAO/B,OAAA,CAAKA,UAAU,sDACdC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,yBAEZC,SAAA,CAAA3B,GAAmB6B,OAAS,IAAM1C,GACjCsC,EAAAA,IAAC,MAAA,CAAIC,UAAU,wFACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,oBACbC,SAAA,GAAAF,IAACO,EAAA,CAAcN,UAAU,gEACzBE,KAAC,MAAA,CAAIF,UAAU,iBACbC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAGC,UAAU,+CAA+CC,SAAA,eAC7DC,KAAC,IAAA,CAAEF,UAAU,yCACVC,SAAA,CAAA3B,GAAmB6B,OAAO,kBAG/BJ,EAAAA,IAAC,SAAA,CACCK,QA9EmB,KACjC1C,GAA0B,GAC1BmB,aAAa2B,QAAQ,yBAA0BtB,KAAKD,MAAMwB,aA6E5CT,UAAU,2EACVK,MAAM,UAENJ,SAAAF,EAAAA,IAACW,EAAA,CAAEV,UAAU,qBAOrBE,KAAC,MAAA,CAAIF,UAAU,uEACbC,SAAA,GAAAC,KAAC,MAAA,CAAIF,UAAU,yBACbC,SAAA,GAAAF,IAACY,EAAA,CAAUX,UAAU,kDACrBD,EAAAA,IAAC,KAAA,CAAGC,UAAU,sDAAsDC,SAAA,cAGtEC,KAAC,MAAA,CAAIF,UAAU,uDACbC,SAAA,GAAAC,KAAC,MAAA,CAAIF,UAAU,4DACbC,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAIC,UAAU,2DACZC,SAAA9D,EAAOgE,SAEVJ,EAAAA,IAAC,MAAA,CAAIC,UAAU,2CAA2CC,SAAA,gBAG5DC,KAAC,MAAA,CAAIF,UAAU,0DACbC,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAIC,UAAU,yDACZC,SAAA3B,GAAmB6B,SAEtBJ,EAAAA,IAAC,MAAA,CAAIC,UAAU,yCAAyCC,SAAA,cAG1DC,KAAC,MAAA,CAAIF,UAAU,gEACbC,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAIC,UAAU,+DACZC,SAAAvB,GAAayB,SAEhBJ,EAAAA,IAAC,MAAA,CAAIC,UAAU,+CAA+CC,SAAA,gBAGhEC,KAAC,MAAA,CAAIF,UAAU,8DACbC,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAIC,UAAU,6DACZC,SAAAvD,EAAMyD,SAETJ,EAAAA,IAAC,MAAA,CAAIC,UAAU,6CAA6CC,SAAA,sBAMlEC,KAAC,MAAA,CAAIF,UAAU,wEACbC,SAAA,CAAAF,EAAAA,IAAC,OAAIC,UAAU,gDACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,2CACbC,SAAA,CAAAC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMtD,EAAa,YAC5BkD,UAAW,6GACK,aAAdnD,EACI,kFACA,qJAGNoD,SAAA,GAAAF,IAACY,EAAA,CAAUX,UAAU,cACrBD,IAAC,QAAKE,SAAA,UAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMtD,EAAa,SAC5BkD,UAAW,6GACK,UAAdnD,EACI,uFACA,qJAEN,gBAAc,YAEdoD,SAAA,GAAAF,IAACa,EAAA,CAAMZ,UAAU,cACjBD,IAAC,QAAKE,SAAA,cAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMtD,EAAa,gBAC5BkD,UAAW,6GACK,iBAAdnD,EACI,4FACA,qJAEN,gBAAc,mBAEdoD,SAAA,GAAAF,IAACc,EAAA,CAAUb,UAAU,cACrBD,IAAC,QAAKE,SAAA,kBAMI,UAAdpD,GAAuC,iBAAdA,IACzBkD,EAAAA,IAAC,MAAA,CAAIC,UAAU,kFACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,4BACZC,SAAA,CAAc,UAAdpD,GACCqD,EAAAA,KAAAY,EAAAA,SAAA,CACEb,SAAA,CAAAC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMpD,EAAe,UAC9BgD,UAAW,2FACO,WAAhBjD,EACI,sDACA,qJAGNkD,SAAA,GAAAF,IAACgB,EAAA,CAASf,UAAU,kBACpBD,IAAC,QAAKE,SAAA,UAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMpD,EAAe,UAC9BgD,UAAW,gGACO,WAAhBjD,EACI,sDACA,qJAGNkD,SAAA,GAAAF,IAACiB,EAAA,CAAQhB,UAAU,kBACnBD,IAAC,QAAKE,SAAA,aAIG,iBAAdpD,GACCqD,EAAAA,KAAAY,EAAAA,SAAA,CACEb,SAAA,CAAAC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMlD,EAAsB,WACrC8C,UAAW,2FACc,YAAvB/C,EACI,yDACA,qJAGNgD,SAAA,GAAAF,IAACkB,EAAA,CAAYjB,UAAU,kBACvBD,IAAC,QAAKE,SAAA,YAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMlD,EAAsB,YACrC8C,UAAW,gGACc,aAAvB/C,EACI,yDACA,qJAGNgD,SAAA,GAAAF,IAACmB,EAAA,CAAQlB,UAAU,kBACnBD,IAAC,QAAKE,SAAA,UAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMlD,EAAsB,gBACrC8C,UAAW,gGACc,iBAAvB/C,EACI,yDACA,qJAGNgD,SAAA,GAAAF,IAACoB,EAAA,CAAWnB,UAAU,kBACtBD,IAAC,QAAKE,SAAA,iBAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMlD,EAAsB,aACrC8C,UAAW,gGACc,cAAvB/C,EACI,yDACA,qJAGNgD,SAAA,GAAAF,IAACiB,EAAA,CAAQhB,UAAU,kBACnBD,IAAC,QAAKE,SAAA,YAERC,EAAAA,KAAC,SAAA,CACCE,QAAS,IAAMlD,EAAsB,eACrC8C,UAAW,gGACc,gBAAvB/C,EACI,yDACA,qJAGNgD,SAAA,GAAAF,IAACqB,EAAA,CAAWpB,UAAU,kBACtBD,IAAC,QAAKE,SAAA,uBAQlBF,EAAAA,IAAC,MAAA,CAAIC,UAAU,MACZC,SAAc,eACbF,EAAAA,IAACsB,EAAA,CACCjF,iBACAC,qBAEc,UAAdQ,EACFkD,EAAAA,IAAC,OACEE,SAAgB,WAAhBlD,SACE,MAAA,CACCkD,SAAA,CAAAF,EAAAA,IAAC,OAAIC,UAAU,qDACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,iBACbC,SAAA,CAAAF,EAAAA,IAAC,SAAA,CACCK,QAAS,IAAMhD,EAAgB,UAC/B4C,UAAW,6CACQ,WAAjB7C,EACI,sDACA,qJAEP8C,SAAA,SAGDF,EAAAA,IAAC,SAAA,CACCK,QAAS,IAAMhD,EAAgB,QAC/B4C,UAAW,6CACQ,SAAjB7C,EACI,sDACA,qJAEP8C,SAAA,oBAMa,WAAjB9C,EACC4C,MAAC,MAAA,CAAI,gBAAc,gBACjBE,SAAAF,EAAAA,IAACuB,EAAA,CACC5E,QACA6E,cAAe,OACfC,yBAA0BpF,EAC1BqF,kBAAkB,MAItB1B,EAAAA,IAAC,MAAA,CAAI,gBAAc,cACjBE,SAAAF,EAAAA,IAAC2B,EAAA,CACChF,QACAiF,eAAgB,OAChBH,yBAA0BpF,EAC1BqF,kBAAkB,SAKR,WAAhB1E,EACFgD,EAAAA,IAAC,OAAI,gBAAc,YACjBE,eAAC2B,EAAA,CAAelF,QAAc8E,yBAA0BpF,MAExD,OAEU,iBAAdS,EACFkD,EAAAA,IAAC,MAAA,CACEE,SAAuB,YAAvBhD,EACC8C,EAAAA,IAAC8B,EAAA,CACCzF,iBACAC,qBAEuB,aAAvBY,EACF8C,EAAAA,IAAC+B,GAAqB1F,mBACG,iBAAvBa,EACF8C,EAAAA,IAACgC,EAAA,CACC3F,iBACAC,qBAEuB,cAAvBY,EACF8C,EAAAA,IAACiC,EAAA,CACCC,OAAQ/F,EAAKgG,GACb9F,iBACA+F,QAASC,cAAclG,EAAKmG,QAEL,gBAAvBpF,EACF8C,EAAAA,IAACuC,EAAA,CACCL,OAAQ/F,EAAKgG,GACb9F,iBACA+F,SAAS,IAET,OAEJ,eAMZpC,EAAAA,IAACwC,EAAA,CACCC,MAAOC,EAAiB,gBACxB5E,WACA6E,WAAY1E,GACZ2E,OAAQ1E,GACRC,oBACA0E,aAAczE,OAItB"}